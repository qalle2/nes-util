clear

rm -f test-out/*.nes
rm -f test-out/*.png

echo "=== Default settings, US version ==="
python3 nes_blaster_mapext.py -m test-out/default1.png test-in/blastermaster.nes
echo

echo "=== Default settings, US version, verbose ==="
python3 nes_blaster_mapext.py -v -m test-out/default2.png test-in/blastermaster.nes
echo

echo "=== All maps, USB/SB/blocks output, US version ==="
for ((i = 0; i < 16; i++))
do
    python3 nes_blaster_mapext.py -n $i -u test-out/usb$i.png -s test-out/sb$i.png -b test-out/blocks$i.png -m test-out/map$i.png test-in/blastermaster.nes
done
echo

echo "=== All maps, USB/SB/blocks output, Japanese version ==="
for ((i = 0; i < 16; i++))
do
    python3 nes_blaster_mapext.py -j -n $i -u test-out/usb$[i]j.png -s test-out/sb$[i]j.png -b test-out/blocks$[i]j.png -m test-out/map$[i]j.png test-in/blastermaster-j.nes
done
echo

echo "=== These should cause five errors ==="
echo
python3 nes_blaster_mapext.py test-in/nonexistent.nes
python3 nes_blaster_mapext.py test-in/blastermaster.nes
python3 nes_blaster_mapext.py -m test-out/default1.png test-in/blastermaster.nes
echo
python3 nes_blaster_mapext.py -n 9 -m test-out/error1.png test-in/blastermaster-j.nes
echo
python3 nes_blaster_mapext.py -j -n 9 -m test-out/error2.png test-in/blastermaster.nes
echo
